<!DOCTYPE html>
<head>
	<title>JQEEEEEEEERY</title>
  <script src="jquery-2.1.1.js"></script>
  <script src="handlebars-v2.0.0.js"></script>
  <link rel="stylesheet" type="text/css" href="./public/css/chats.css">
</head>
<body>

<div class="bubble" class="signin">
    <input name="username" placeholder="username">
    <input name="password" placeholder="password">
    <button class="login">Login!</button>
</div>

<script>
	$.ajax({
		type: 'POST',
		url: 'http://chat.api.mks.io/signin'
	}).success(function (chats) {
		console.log("Got chats:", chats)
	})
</script>

<div class="chats"></div>

<script id="chat-template" type="text/x-handlebars-template">
	<div class="bubble" class="chat">
		<h4>{{ user }}</h4>
		<p>{{ message }}</p>
	</div>
</script>

<script>
     $(document).on("click", "button.login", function(){
      alert("suckka!")
  })

</script>


<script>
	$.ajax({
	  type: 'GET',
	  url: 'http://chat.api.mks.io/chats'
	}).success(function (chats) {
	  console.log("Got chats:", chats)
	})
</script>

</body>
<script>
      var source = $("#chat-template").html();
      var template = Handlebars.compile(source);
      $.ajax({
  type: 'GET',
  url: 'http://chat.api.mks.io/chats'
}).success(function (chats) {
  chats.forEach(function(chat){
    var myNewHTML = template({
        user: chat['user'],
        message: chat['message'],
        time: chat['time']
      });
        $('body').append(myNewHTML);
  })
})
      var anotherHTML = template({
        title: "New Title",
        content: "New Content"
      });
  </script>
